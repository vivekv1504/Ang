<div class="profile-container">
  <div class="profile-card">
    <div class="profile-header">
      <div class="header-content">
        <h1>
          <svg class="profile-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
          My Profile
        </h1>
        <p>Manage your account information</p>
      </div>
      <button class="back-button" (click)="goBack()" title="Go Back">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
      </button>
    </div>

    <!-- Success Message -->
    <div class="alert alert-success" *ngIf="successMessage">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div class="alert alert-error" *ngIf="errorMessage">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      {{ errorMessage }}
    </div>

    <div class="profile-body">
      <!-- Personal Information Section -->
      <div class="profile-section">
        <div class="section-header">
          <h2>Personal Information</h2>
          <button *ngIf="!isEditing" class="edit-button" (click)="toggleEdit()">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
            </svg>
            Edit Profile
          </button>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <label for="name">Full Name <span class="required">*</span></label>
            <input
              type="text"
              id="name"
              [(ngModel)]="name"
              [disabled]="!isEditing"
              placeholder="Enter your full name"
              required
            />
          </div>

          <div class="form-group">
            <label for="email">Email Address</label>
            <input
              type="email"
              id="email"
              [value]="email"
              disabled
              title="Email cannot be changed"
            />
            <small class="form-hint">Email address cannot be changed</small>
          </div>

          <div class="form-group">
            <label for="phone">Phone Number</label>
            <input
              type="tel"
              id="phone"
              [(ngModel)]="phone"
              [disabled]="!isEditing"
              placeholder="Enter your phone number"
            />
          </div>

          <div class="form-group">
            <label for="role">Role</label>
            <input
              type="text"
              id="role"
              [value]="user?.role === 'owner' ? 'Store Owner' : 'Customer'"
              disabled
              title="Role cannot be changed"
            />
          </div>
        </div>
      </div>

      <!-- Address Information Section -->
      <div class="profile-section">
        <div class="section-header">
          <h2>Address Information</h2>
        </div>

        <div class="form-grid">
          <div class="form-group full-width">
            <label for="street">Street Address</label>
            <input
              type="text"
              id="street"
              [(ngModel)]="street"
              [disabled]="!isEditing"
              placeholder="Enter your street address"
            />
          </div>

          <div class="form-group">
            <label for="city">City</label>
            <input
              type="text"
              id="city"
              [(ngModel)]="city"
              [disabled]="!isEditing"
              placeholder="Enter your city"
            />
          </div>

          <div class="form-group">
            <label for="state">State/Province</label>
            <input
              type="text"
              id="state"
              [(ngModel)]="state"
              [disabled]="!isEditing"
              placeholder="Enter your state"
            />
          </div>

          <div class="form-group">
            <label for="zipCode">ZIP/Postal Code</label>
            <input
              type="text"
              id="zipCode"
              [(ngModel)]="zipCode"
              [disabled]="!isEditing"
              placeholder="Enter your ZIP code"
            />
          </div>

          <div class="form-group">
            <label for="country">Country</label>
            <input
              type="text"
              id="country"
              [(ngModel)]="country"
              [disabled]="!isEditing"
              placeholder="Enter your country"
            />
          </div>
        </div>
      </div>

      <!-- Action Buttons (shown only when editing) -->
      <div class="action-buttons" *ngIf="isEditing">
        <button class="btn-cancel" (click)="toggleEdit()" [disabled]="isSaving">
          Cancel
        </button>
        <button class="btn-save" (click)="saveProfile()" [disabled]="isSaving">
          <span *ngIf="!isSaving">Save Changes</span>
          <span *ngIf="isSaving">Saving...</span>
        </button>
      </div>
    </div>
  </div>
</div>

